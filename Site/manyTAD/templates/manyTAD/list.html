{% extends 'manyTAD/base.html' %}


{% block content %}
<body>
  <div class="container" style="margin-top: 100px; min-height: 100%">
	<table class="table table-hover table-bordered">
		<thead>
			<tr>
			<th scope="col">Title</th>
			<th scope="col">Description</th>
			<th scope="col">Uploaded</th>
			<th scope="col">Status</th>
			<th scope="col">Visualize</th>
			<th scope="col">Other</th>
			<th scope="col">Delete</th>
			
			</tr>
		</thead>
		<tbody>
			{% for data in datas%}
			<tr>
				<td>{{ data.title }}</td>
				<td>{{ data.description }}</td>
				<td>{{ data.uploaded_at }}</td>
				<td>{{ data.status }}</td>
				<td>
					{% if data.status == "Complete" %}
						<form method="post" action="{% url 'visualize' data.pk %}">
							<button  id="viewDataBtn" type="submit" " class="btn btn-primary">View Data
							</button>
							{% csrf_token %}
						</form>
					{% else %}
						<form method="post" action="{% url 'visualize' data.pk %}">
							<button  id="viewDataBtn" type="submit" " class="btn btn-primary">Force View
							</button>
							{% csrf_token %}
						</form>
					{% endif %}
				</td>
				<td>
					<form method="post" action="{% url 'fail_data' data.pk %}">
						<button type="submit" class="btn btn-warning btn-sm">Set Fail</button>
						{% csrf_token %}
					</form>
					
					{% if data.has_ran == 0 %}
						<form method="post" action="{% url 'processing' data.pk %}">
							<button type="submit" class="btn btn-warning btn-sm">run tad</button>
							{% csrf_token %}
						<form method="post" action="{% url 'processing' data.pk %}">
							<button type="submit" class="btn btn-warning btn-sm">run tad+</button>
							{% csrf_token %}
					{% endif %}
					</form>
				</td>
				<td>
					<form method="post" action="{% url 'delete_data' data.pk %}">
						<button type="submit" class="btn btn-danger btn-sm">Delete</button>
						{% csrf_token %}
					</form>
				</td>
				
			</tr>
			{% endfor %}
		</tbody>
	</table>
  </div>
</body>
{% endblock content %}